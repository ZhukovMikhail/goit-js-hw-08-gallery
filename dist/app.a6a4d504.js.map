{"version":3,"sources":["src/app.js"],"names":["galleryItems","preview","original","description","jsGallery","document","querySelector","listEl","map","join","insertAdjacentHTML","addEventListener","openModalHandler","modal","modalClose","modalImage","originalSrcArray","event","preventDefault","target","nodeName","classList","add","src","parentNode","href","alt","closeModalHandler","window","altModalCloseHandler","leftKeyHandler","rightKeyHandler","escapeHanler","remove","removeEventListener","evt","code","currentImageIndex","indexOf","contains","length"],"mappings":"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","file":"app.a6a4d504.js","sourceRoot":"..","sourcesContent":["const galleryItems = [\r\n  {\r\n    preview:\r\n      'https://cdn.pixabay.com/photo/2019/05/14/16/43/himilayan-blue-poppy-4202825__340.jpg',\r\n    original:\r\n      'https://cdn.pixabay.com/photo/2019/05/14/16/43/himilayan-blue-poppy-4202825_1280.jpg',\r\n    description: 'Hokkaido Flower',\r\n  },\r\n  {\r\n    preview:\r\n      'https://cdn.pixabay.com/photo/2019/05/14/22/05/container-4203677__340.jpg',\r\n    original:\r\n      'https://cdn.pixabay.com/photo/2019/05/14/22/05/container-4203677_1280.jpg',\r\n    description: 'Container Haulage Freight',\r\n  },\r\n  {\r\n    preview:\r\n      'https://cdn.pixabay.com/photo/2019/05/16/09/47/beach-4206785__340.jpg',\r\n    original:\r\n      'https://cdn.pixabay.com/photo/2019/05/16/09/47/beach-4206785_1280.jpg',\r\n    description: 'Aerial Beach View',\r\n  },\r\n  {\r\n    preview:\r\n      'https://cdn.pixabay.com/photo/2016/11/18/16/19/flowers-1835619__340.jpg',\r\n    original:\r\n      'https://cdn.pixabay.com/photo/2016/11/18/16/19/flowers-1835619_1280.jpg',\r\n    description: 'Flower Blooms',\r\n  },\r\n  {\r\n    preview:\r\n      'https://cdn.pixabay.com/photo/2018/09/13/10/36/mountains-3674334__340.jpg',\r\n    original:\r\n      'https://cdn.pixabay.com/photo/2018/09/13/10/36/mountains-3674334_1280.jpg',\r\n    description: 'Alpine Mountains',\r\n  },\r\n  {\r\n    preview:\r\n      'https://cdn.pixabay.com/photo/2019/05/16/23/04/landscape-4208571__340.jpg',\r\n    original:\r\n      'https://cdn.pixabay.com/photo/2019/05/16/23/04/landscape-4208571_1280.jpg',\r\n    description: 'Mountain Lake Sailing',\r\n  },\r\n  {\r\n    preview:\r\n      'https://cdn.pixabay.com/photo/2019/05/17/09/27/the-alps-4209272__340.jpg',\r\n    original:\r\n      'https://cdn.pixabay.com/photo/2019/05/17/09/27/the-alps-4209272_1280.jpg',\r\n    description: 'Alpine Spring Meadows',\r\n  },\r\n  {\r\n    preview:\r\n      'https://cdn.pixabay.com/photo/2019/05/16/21/10/landscape-4208255__340.jpg',\r\n    original:\r\n      'https://cdn.pixabay.com/photo/2019/05/16/21/10/landscape-4208255_1280.jpg',\r\n    description: 'Nature Landscape',\r\n  },\r\n  {\r\n    preview:\r\n      'https://cdn.pixabay.com/photo/2019/05/17/04/35/lighthouse-4208843__340.jpg',\r\n    original:\r\n      'https://cdn.pixabay.com/photo/2019/05/17/04/35/lighthouse-4208843_1280.jpg',\r\n    description: 'Lighthouse Coast Sea',\r\n  },\r\n];\r\n\r\nconst jsGallery = document.querySelector('.js-gallery');\r\n\r\nconst listEl = galleryItems\r\n  .map(\r\n    ({ preview, original, description }) =>\r\n      `<li class=\"gallery__item\"><a class=\"gallery__link\" href = \"${original}\"><img class=\"gallery__image\" src=\"${preview}\" alt=\"${description}\"></li></a>`,\r\n  )\r\n  .join('');\r\n\r\n// console.log(listEl);\r\n\r\njsGallery.insertAdjacentHTML('beforeend', listEl);\r\njsGallery.addEventListener('click', openModalHandler);\r\n\r\nconst modal = document.querySelector('.js-lightbox');\r\nconst modalClose = document.querySelector('[data-action=\"close-lightbox\"]');\r\nconst modalImage = document.querySelector('.lightbox__image');\r\nconst originalSrcArray = galleryItems.map(({ original }) => original);\r\n\r\n//=============== Function Open Modal ====================================\r\nfunction openModalHandler(event) {\r\n  event.preventDefault();\r\n  if (event.target.nodeName !== 'IMG') {\r\n    return;\r\n  }\r\n  modal.classList.add('is-open');\r\n\r\n  modalImage.src = event.target.parentNode.href;\r\n  modalImage.alt = event.target.alt;\r\n\r\n  modalClose.addEventListener('click', closeModalHandler);\r\n  window.addEventListener('click', altModalCloseHandler);\r\n\r\n  window.addEventListener('keydown', leftKeyHandler);\r\n  window.addEventListener('keydown', rightKeyHandler);\r\n  window.addEventListener('keydown', escapeHanler);\r\n}\r\n\r\n//=============== Function Close Modal ====================================\r\nfunction closeModalHandler() {\r\n  modal.classList.remove('is-open');\r\n  modalImage.src = '';\r\n  modalImage.alt = '';\r\n\r\n  modalClose.removeEventListener('click', closeModalHandler);\r\n  window.removeEventListener('click', altModalCloseHandler);\r\n\r\n  window.removeEventListener('keydown', leftKeyHandler);\r\n  window.removeEventListener('keydown', rightKeyHandler);\r\n  window.removeEventListener('keydown', escapeHanler);\r\n}\r\n//--------------Alternative close Modal by clicking out of image-------------------------------\r\nfunction altModalCloseHandler(event) {\r\n  if (event.target.nodeName === 'IMG') {\r\n    return;\r\n  }\r\n  closeModalHandler();\r\n}\r\n//--------------Alternative close Modal by Escape button----------------------------\r\nfunction escapeHanler(evt) {\r\n  if (evt.code !== 'Escape') {\r\n    return;\r\n  }\r\n  closeModalHandler();\r\n}\r\n\r\n//=============== Function Left key ====================================\r\nfunction leftKeyHandler(evt) {\r\n  let currentImageIndex = originalSrcArray.indexOf(modalImage.src);\r\n  if (!modal.classList.contains('is-open')) {\r\n    return;\r\n  }\r\n  if (evt.code !== 'ArrowLeft') {\r\n    return;\r\n  }\r\n  if (currentImageIndex === 0) {\r\n    return (modalImage.src = originalSrcArray[originalSrcArray.length - 1]);\r\n  }\r\n  modalImage.src = originalSrcArray[currentImageIndex - 1];\r\n}\r\n//=============== Function Right key ====================================\r\nfunction rightKeyHandler(evt) {\r\n  let currentImageIndex = originalSrcArray.indexOf(modalImage.src);\r\n  if (!modal.classList.contains('is-open')) {\r\n    return;\r\n  }\r\n  if (evt.code !== 'ArrowRight') {\r\n    return;\r\n  }\r\n  if (currentImageIndex === originalSrcArray.length - 1) {\r\n    return (modalImage.src = originalSrcArray[0]);\r\n  }\r\n  modalImage.src = originalSrcArray[currentImageIndex + 1];\r\n}\r\n//------------------------------------------------------------------------\r\n\r\n//================ пример функции от ментотра ====================\r\n// function keyboardManipulation({ key }) {\r\n//   switch (key) {\r\n//     case gallery.length - 1 > activeIndex && 'ArrowRight':\r\n//       activeIndex += 1;\r\n//       refs.modalImg.src = gallery[activeIndex].original;\r\n//       break;\r\n//     case activeIndex > 0 && 'ArrowLeft':\r\n//       activeIndex -= 1;\r\n//       refs.modalImg.src = gallery[activeIndex].original;\r\n//       break;\r\n//     case activeIndex === gallery.length - 1 && 'ArrowRight':\r\n//       activeIndex = 0;\r\n//       refs.modalImg.src = gallery[activeIndex].original;\r\n//       break;\r\n//     case activeIndex === 0 && 'ArrowLeft':\r\n//       activeIndex = gallery.length - 1;\r\n//       refs.modalImg.src = gallery[activeIndex].original;\r\n//       break;\r\n//     case 'Escape':\r\n//       closeModal();\r\n//       break;\r\n//     default:\r\n//       alert('что-то пошло не так');\r\n//   }\r\n// }\r\n"]}