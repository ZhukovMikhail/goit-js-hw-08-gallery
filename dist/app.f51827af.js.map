{"version":3,"sources":["src/app.js"],"names":["galleryItems","preview","original","description","jsGallery","document","querySelector","listEl","map","join","insertAdjacentHTML","addEventListener","openModalHandler","modal","modalClose","modalImage","originalSrcArray","event","preventDefault","target","nodeName","classList","add","src","parentNode","href","alt","closeModalHandler","window","altModalCloseHandler","leftKeyHandler","rightKeyHandler","escapeHanler","remove","removeEventListener","evt","code","currentImageIndex","indexOf","contains","length"],"mappings":";AAAA,IAAMA,EAAe,CACnB,CACEC,QACE,uFACFC,SACE,uFACFC,YAAa,mBAEf,CACEF,QACE,4EACFC,SACE,4EACFC,YAAa,6BAEf,CACEF,QACE,wEACFC,SACE,wEACFC,YAAa,qBAEf,CACEF,QACE,0EACFC,SACE,0EACFC,YAAa,iBAEf,CACEF,QACE,4EACFC,SACE,4EACFC,YAAa,oBAEf,CACEF,QACE,4EACFC,SACE,4EACFC,YAAa,yBAEf,CACEF,QACE,2EACFC,SACE,2EACFC,YAAa,yBAEf,CACEF,QACE,4EACFC,SACE,4EACFC,YAAa,oBAEf,CACEF,QACE,6EACFC,SACE,6EACFC,YAAa,yBAIXC,EAAYC,SAASC,cAAc,eAEnCC,EAASP,EACZQ,IACC,SAAA,GAAGP,IAAAA,EAAAA,EAAAA,QAASC,EAAAA,EAAAA,SAAUC,EAAAA,EAAAA,YAC0CD,MAAAA,8DAAAA,OAAAA,EAA8CD,uCAAAA,OAAAA,EAAiBE,WAAAA,OAAAA,EAD/H,iBAGDM,KAAK,IAIRL,EAAUM,mBAAmB,YAAaH,GAC1CH,EAAUO,iBAAiB,QAASC,GAEpC,IAAMC,EAAQR,SAASC,cAAc,gBAC/BQ,EAAaT,SAASC,cAAc,kCACpCS,EAAaV,SAASC,cAAc,oBACpCU,EAAmBhB,EAAaQ,IAAI,SAAA,GAAkBN,OAAfA,EAAAA,WAG7C,SAASU,EAAiBK,GACxBA,EAAMC,iBACwB,QAA1BD,EAAME,OAAOC,WAGjBP,EAAMQ,UAAUC,IAAI,WAEpBP,EAAWQ,IAAMN,EAAME,OAAOK,WAAWC,KACzCV,EAAWW,IAAMT,EAAME,OAAOO,IAE9BZ,EAAWH,iBAAiB,QAASgB,GACrCC,OAAOjB,iBAAiB,QAASkB,GAEjCD,OAAOjB,iBAAiB,UAAWmB,GACnCF,OAAOjB,iBAAiB,UAAWoB,GACnCH,OAAOjB,iBAAiB,UAAWqB,IAIrC,SAASL,IACPd,EAAMQ,UAAUY,OAAO,WACvBlB,EAAWQ,IAAM,GACjBR,EAAWW,IAAM,GAEjBZ,EAAWoB,oBAAoB,QAASP,GACxCC,OAAOM,oBAAoB,QAASL,GAEpCD,OAAOM,oBAAoB,UAAWJ,GACtCF,OAAOM,oBAAoB,UAAWH,GACtCH,OAAOM,oBAAoB,UAAWF,GAGxC,SAASH,EAAqBZ,GACE,QAA1BA,EAAME,OAAOC,UAGjBO,IAGF,SAASK,EAAaG,GACH,WAAbA,EAAIC,MAGRT,IAIF,SAASG,EAAeK,GAClBE,IAAAA,EAAoBrB,EAAiBsB,QAAQvB,EAAWQ,KACxD,GAACV,EAAMQ,UAAUkB,SAAS,YAGb,cAAbJ,EAAIC,KAGJC,OAAsB,IAAtBA,EACMtB,EAAWQ,IAAMP,EAAiBA,EAAiBwB,OAAS,QAEtEzB,EAAWQ,IAAMP,EAAiBqB,EAAoB,IAGxD,SAASN,EAAgBI,GACnBE,IAAAA,EAAoBrB,EAAiBsB,QAAQvB,EAAWQ,KACxD,GAACV,EAAMQ,UAAUkB,SAAS,YAGb,eAAbJ,EAAIC,KAGJC,OAAAA,IAAsBrB,EAAiBwB,OAAS,EAC1CzB,EAAWQ,IAAMP,EAAiB,QAE5CD,EAAWQ,IAAMP,EAAiBqB,EAAoB","file":"app.f51827af.js","sourceRoot":"..","sourcesContent":["const galleryItems = [\r\n  {\r\n    preview:\r\n      'https://cdn.pixabay.com/photo/2019/05/14/16/43/himilayan-blue-poppy-4202825__340.jpg',\r\n    original:\r\n      'https://cdn.pixabay.com/photo/2019/05/14/16/43/himilayan-blue-poppy-4202825_1280.jpg',\r\n    description: 'Hokkaido Flower',\r\n  },\r\n  {\r\n    preview:\r\n      'https://cdn.pixabay.com/photo/2019/05/14/22/05/container-4203677__340.jpg',\r\n    original:\r\n      'https://cdn.pixabay.com/photo/2019/05/14/22/05/container-4203677_1280.jpg',\r\n    description: 'Container Haulage Freight',\r\n  },\r\n  {\r\n    preview:\r\n      'https://cdn.pixabay.com/photo/2019/05/16/09/47/beach-4206785__340.jpg',\r\n    original:\r\n      'https://cdn.pixabay.com/photo/2019/05/16/09/47/beach-4206785_1280.jpg',\r\n    description: 'Aerial Beach View',\r\n  },\r\n  {\r\n    preview:\r\n      'https://cdn.pixabay.com/photo/2016/11/18/16/19/flowers-1835619__340.jpg',\r\n    original:\r\n      'https://cdn.pixabay.com/photo/2016/11/18/16/19/flowers-1835619_1280.jpg',\r\n    description: 'Flower Blooms',\r\n  },\r\n  {\r\n    preview:\r\n      'https://cdn.pixabay.com/photo/2018/09/13/10/36/mountains-3674334__340.jpg',\r\n    original:\r\n      'https://cdn.pixabay.com/photo/2018/09/13/10/36/mountains-3674334_1280.jpg',\r\n    description: 'Alpine Mountains',\r\n  },\r\n  {\r\n    preview:\r\n      'https://cdn.pixabay.com/photo/2019/05/16/23/04/landscape-4208571__340.jpg',\r\n    original:\r\n      'https://cdn.pixabay.com/photo/2019/05/16/23/04/landscape-4208571_1280.jpg',\r\n    description: 'Mountain Lake Sailing',\r\n  },\r\n  {\r\n    preview:\r\n      'https://cdn.pixabay.com/photo/2019/05/17/09/27/the-alps-4209272__340.jpg',\r\n    original:\r\n      'https://cdn.pixabay.com/photo/2019/05/17/09/27/the-alps-4209272_1280.jpg',\r\n    description: 'Alpine Spring Meadows',\r\n  },\r\n  {\r\n    preview:\r\n      'https://cdn.pixabay.com/photo/2019/05/16/21/10/landscape-4208255__340.jpg',\r\n    original:\r\n      'https://cdn.pixabay.com/photo/2019/05/16/21/10/landscape-4208255_1280.jpg',\r\n    description: 'Nature Landscape',\r\n  },\r\n  {\r\n    preview:\r\n      'https://cdn.pixabay.com/photo/2019/05/17/04/35/lighthouse-4208843__340.jpg',\r\n    original:\r\n      'https://cdn.pixabay.com/photo/2019/05/17/04/35/lighthouse-4208843_1280.jpg',\r\n    description: 'Lighthouse Coast Sea',\r\n  },\r\n];\r\n\r\nconst jsGallery = document.querySelector('.js-gallery');\r\n\r\nconst listEl = galleryItems\r\n  .map(\r\n    ({ preview, original, description }) =>\r\n      `<li class=\"gallery__item\"><a class=\"gallery__link\" href = \"${original}\"><img class=\"gallery__image\" src=\"${preview}\" alt=\"${description}\"></li></a>`,\r\n  )\r\n  .join('');\r\n\r\n// console.log(listEl);\r\n\r\njsGallery.insertAdjacentHTML('beforeend', listEl);\r\njsGallery.addEventListener('click', openModalHandler);\r\n\r\nconst modal = document.querySelector('.js-lightbox');\r\nconst modalClose = document.querySelector('[data-action=\"close-lightbox\"]');\r\nconst modalImage = document.querySelector('.lightbox__image');\r\nconst originalSrcArray = galleryItems.map(({ original }) => original);\r\n\r\n//=============== Function Open Modal ====================================\r\nfunction openModalHandler(event) {\r\n  event.preventDefault();\r\n  if (event.target.nodeName !== 'IMG') {\r\n    return;\r\n  }\r\n  modal.classList.add('is-open');\r\n\r\n  modalImage.src = event.target.parentNode.href;\r\n  modalImage.alt = event.target.alt;\r\n\r\n  modalClose.addEventListener('click', closeModalHandler);\r\n  window.addEventListener('click', altModalCloseHandler);\r\n\r\n  window.addEventListener('keydown', leftKeyHandler);\r\n  window.addEventListener('keydown', rightKeyHandler);\r\n  window.addEventListener('keydown', escapeHanler);\r\n}\r\n\r\n//=============== Function Close Modal ====================================\r\nfunction closeModalHandler() {\r\n  modal.classList.remove('is-open');\r\n  modalImage.src = '';\r\n  modalImage.alt = '';\r\n\r\n  modalClose.removeEventListener('click', closeModalHandler);\r\n  window.removeEventListener('click', altModalCloseHandler);\r\n\r\n  window.removeEventListener('keydown', leftKeyHandler);\r\n  window.removeEventListener('keydown', rightKeyHandler);\r\n  window.removeEventListener('keydown', escapeHanler);\r\n}\r\n//--------------Alternative close Modal by clicking out of image-------------------------------\r\nfunction altModalCloseHandler(event) {\r\n  if (event.target.nodeName === 'IMG') {\r\n    return;\r\n  }\r\n  closeModalHandler();\r\n}\r\n//--------------Alternative close Modal by Escape button----------------------------\r\nfunction escapeHanler(evt) {\r\n  if (evt.code !== 'Escape') {\r\n    return;\r\n  }\r\n  closeModalHandler();\r\n}\r\n\r\n//=============== Function Left key ====================================\r\nfunction leftKeyHandler(evt) {\r\n  let currentImageIndex = originalSrcArray.indexOf(modalImage.src);\r\n  if (!modal.classList.contains('is-open')) {\r\n    return;\r\n  }\r\n  if (evt.code !== 'ArrowLeft') {\r\n    return;\r\n  }\r\n  if (currentImageIndex === 0) {\r\n    return (modalImage.src = originalSrcArray[originalSrcArray.length - 1]);\r\n  }\r\n  modalImage.src = originalSrcArray[currentImageIndex - 1];\r\n}\r\n//=============== Function Right key ====================================\r\nfunction rightKeyHandler(evt) {\r\n  let currentImageIndex = originalSrcArray.indexOf(modalImage.src);\r\n  if (!modal.classList.contains('is-open')) {\r\n    return;\r\n  }\r\n  if (evt.code !== 'ArrowRight') {\r\n    return;\r\n  }\r\n  if (currentImageIndex === originalSrcArray.length - 1) {\r\n    return (modalImage.src = originalSrcArray[0]);\r\n  }\r\n  modalImage.src = originalSrcArray[currentImageIndex + 1];\r\n}\r\n//------------------------------------------------------------------------\r\n\r\n//================ пример функции от ментотра ====================\r\n// function keyboardManipulation({ key }) {\r\n//   switch (key) {\r\n//     case gallery.length - 1 > activeIndex && 'ArrowRight':\r\n//       activeIndex += 1;\r\n//       refs.modalImg.src = gallery[activeIndex].original;\r\n//       break;\r\n//     case activeIndex > 0 && 'ArrowLeft':\r\n//       activeIndex -= 1;\r\n//       refs.modalImg.src = gallery[activeIndex].original;\r\n//       break;\r\n//     case activeIndex === gallery.length - 1 && 'ArrowRight':\r\n//       activeIndex = 0;\r\n//       refs.modalImg.src = gallery[activeIndex].original;\r\n//       break;\r\n//     case activeIndex === 0 && 'ArrowLeft':\r\n//       activeIndex = gallery.length - 1;\r\n//       refs.modalImg.src = gallery[activeIndex].original;\r\n//       break;\r\n//     case 'Escape':\r\n//       closeModal();\r\n//       break;\r\n//     default:\r\n//       alert('что-то пошло не так');\r\n//   }\r\n// }\r\n"]}